import{_ as a,c as n,b as i,d as p}from"./app.TKwfNnkH.js";import"./chunks/vendor.m4U5NtMm.js";import"./chunks/vendor-mermaid.BQ3vawV9.js";const d=JSON.parse('{"title":"ServerStatusä¸­æ–‡ç‰ˆï¼š","description":"","frontmatter":{"contributors":"F.windEmiko,FwindEmi86"},"headers":[],"relativePath":"ServerStatus/README.md","filePath":"ServerStatus/README.md","lastUpdated":1769159687000}'),e={name:"ServerStatus/README.md"};function t(l,s,r,h,u,c){return i(),n("div",null,[...s[0]||(s[0]=[p(`<h1 id="serverstatusä¸­æ–‡ç‰ˆ" tabindex="-1">ServerStatusä¸­æ–‡ç‰ˆï¼š <a class="header-anchor" href="#serverstatusä¸­æ–‡ç‰ˆ" aria-label="Permalink to &quot;ServerStatusä¸­æ–‡ç‰ˆï¼š&quot;">â€‹</a></h1><ul><li>ServerStatusä¸­æ–‡ç‰ˆæ˜¯ä¸€ä¸ªé…·ç‚«é«˜é€¼æ ¼çš„äº‘æ¢é’ˆã€äº‘ç›‘æ§ã€æœåŠ¡å™¨äº‘ç›‘æ§ã€å¤šæœåŠ¡å™¨æ¢é’ˆ~ã€‚</li><li>åœ¨çº¿æ¼”ç¤ºï¼š<a href="https://tz.cloudcpp.com" target="_blank" rel="noreferrer">https://tz.cloudcpp.com</a></li></ul><p><a href="https://github.com/cppla/ServerStatus" target="_blank" rel="noreferrer"><img src="https://img.shields.io/badge/python-3.6%2B%20-blue.svg" alt="Python Support"></a><a href="https://github.com/cppla/ServerStatus" target="_blank" rel="noreferrer"><img src="http://img.shields.io/badge/C++-GNU-blue.svg?style=flat&amp;logo=cplusplus" alt="C++ Compiler"></a><a href="https://github.com/cppla/ServerStatus" target="_blank" rel="noreferrer"><img src="https://img.shields.io/badge/license-MIT-4EB1BA.svg?style=flat-square" alt="License"></a><a href="https://github.com/cppla/ServerStatus" target="_blank" rel="noreferrer"><img src="https://img.shields.io/badge/Version-Build%201.1.7-red" alt="Version"></a></p><p><img src="https://dl.cpp.la/Archive/serverstatus_1_1_7.png" alt="Latest Host Version"></p><p><code>Watchdogè§¦å‘å¼å‘Šè­¦ï¼Œintervalåªæ˜¯ä¸ºäº†é˜²æ­¢é¢‘ç¹æ”¶åˆ°æŠ¥è­¦ï¼Œå¹¶ä¸æ˜¯æ¢æµ‹é—´éš”ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯Exprtkä½¿ç”¨çª„å­—ç¬¦ç±»å‹ï¼Œä¸­æ–‡ç­‰Unicodeå­—ç¬¦æ— æ³•è§£æè®¡ç®—ã€‚ AIå·²ç»èƒ½å¤Ÿå–ä»£å¤§éƒ¨åˆ†ç¨‹åºå‘˜</code></p><h1 id="éƒ¨ç½²" tabindex="-1">éƒ¨ç½²ï¼š <a class="header-anchor" href="#éƒ¨ç½²" aria-label="Permalink to &quot;éƒ¨ç½²ï¼š&quot;">â€‹</a></h1><p>ã€æœåŠ¡ç«¯ã€‘ï¼š</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" tabindex="0"><code><span class="line"></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">\`</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Docker</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">\`</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">:</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">     </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">wget</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --no-check-certificate</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -qO</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ~/serverstatus-config.json</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> https://raw.githubusercontent.com/cppla/ServerStatus/master/server/config.json</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> &amp;&amp;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> mkdir</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ~/serverstatus-monthtraffic</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    </span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">docker</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> run</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -d</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --restart=always</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --name=serverstatus</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -v</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ~/serverstatus-config.json:/ServerStatus/server/config.json</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -v</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ~/serverstatus-monthtraffic:/usr/share/nginx/html/json</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -p</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 80:80</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -p</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 35601:35601</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> cppla/serverstatus:latest</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">     </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">\`</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Docker-compose(æ¨è</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">)</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">\`</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> docker-compose</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> up</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -d</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>ã€å®¢æˆ·ç«¯ã€‘ï¼š</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">wget</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --no-check-certificate</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -qO</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> client-linux.py</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">https://raw.githubusercontent.com/cppla/ServerStatus/master/clients/client-linux.py</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> &amp;&amp;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> nohup</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> python3</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> client-linux.py</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> SERVER={</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">$SERVER</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">}</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> USER={</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">$USER</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">}</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> PASSWORD={</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">$PASSWORD</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">}</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">/dev/null</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> 2&gt;&amp;1</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> &amp;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">eg:</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">wget</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --no-check-certificate</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -qO</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> client-linux.py</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">https://raw.githubusercontent.com/cppla/ServerStatus/master/clients/client-linux.py</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> &amp;&amp;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> nohup</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> python3</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> client-linux.py</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> SERVER=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">45.79.67.132</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> USER=s04</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">  &gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">/dev/null</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> 2&gt;&amp;1</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> &amp;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h1 id="æ•™ç¨‹" tabindex="-1">æ•™ç¨‹ï¼š <a class="header-anchor" href="#æ•™ç¨‹" aria-label="Permalink to &quot;æ•™ç¨‹ï¼š&quot;">â€‹</a></h1><p><strong>ã€æœåŠ¡ç«¯é…ç½®ã€‘</strong></p><h4 id="ä¸€ã€ç”ŸæˆæœåŠ¡ç«¯ç¨‹åº" tabindex="-1">ä¸€ã€ç”ŸæˆæœåŠ¡ç«¯ç¨‹åº <a class="header-anchor" href="#ä¸€ã€ç”ŸæˆæœåŠ¡ç«¯ç¨‹åº" aria-label="Permalink to &quot;ä¸€ã€ç”ŸæˆæœåŠ¡ç«¯ç¨‹åº&quot;">â€‹</a></h4><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" tabindex="0"><code><span class="line"><span>\`Debian/Ubuntu\`: apt-get -y install gcc g++ make libcurl4-openssl-dev</span></span>
<span class="line"><span>\`Centos/Redhat\`: yum -y install gcc gcc-c++ make libcurl-devel</span></span>
<span class="line"><span></span></span>
<span class="line"><span>cd ServerStatus/server &amp;&amp; make</span></span>
<span class="line"><span>./sergate</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>å¦‚æœæ²¡é”™è¯¯æç¤ºï¼ŒOKï¼Œctrl+cå…³é—­ï¼›å¦‚æœæœ‰é”™è¯¯æç¤ºï¼Œæ£€æŸ¥35601ç«¯å£æ˜¯å¦è¢«å ç”¨</p><h4 id="äºŒã€ä¿®æ”¹é…ç½®æ–‡ä»¶" tabindex="-1">äºŒã€ä¿®æ”¹é…ç½®æ–‡ä»¶ <a class="header-anchor" href="#äºŒã€ä¿®æ”¹é…ç½®æ–‡ä»¶" aria-label="Permalink to &quot;äºŒã€ä¿®æ”¹é…ç½®æ–‡ä»¶&quot;">â€‹</a></h4><div class="language-diff vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">diff</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">! watchdog rule å¯ä»¥ä¸ºä»»ä½•å·²çŸ¥å­—æ®µçš„è¡¨è¾¾å¼ã€‚æ³¨æ„Exprtkåº“é»˜è®¤ä½¿ç”¨çª„å­—ç¬¦ç±»å‹ï¼Œä¸­æ–‡ç­‰Unicodeå­—ç¬¦æ— æ³•è§£æè®¡ç®—ï¼Œç­‰å¾…ä¿®å¤       </span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">! watchdog interval æœ€å°é€šçŸ¥é—´éš”</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">! watchdog callback å¯è‡ªå®šä¹‰ä¸ºPostæ–¹æ³•çš„URLï¼Œå‘Šè­¦å†…å®¹å°†æ‹¼æ¥å…¶åå¹¶å‘èµ·å›è°ƒ    </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">! Telegram: https://api.telegram.org/botä½ è‡ªå·±çš„å¯†é’¥/sendMessage?parse_mode=HTML&amp;disable_web_page_preview=true&amp;chat_id=ä½ è‡ªå·±çš„æ ‡è¯†&amp;text=</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">! Serveré…±: https://sctapi.ftqq.com/ä½ è‡ªå·±çš„å¯†é’¥.send?title=ServerStatus&amp;desp=</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">! PushDeer: https://api2.pushdeer.com/message/push?pushkey=ä½ è‡ªå·±çš„å¯†é’¥&amp;text=</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">! HttpBasicAuth: https://ç”¨æˆ·å:å¯†ç @ä½ è‡ªå·±çš„åŸŸå/api/push?message=</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" tabindex="0"><code><span class="line"><span>{</span></span>
<span class="line"><span>	&quot;servers&quot;:</span></span>
<span class="line"><span>	[</span></span>
<span class="line"><span>		{</span></span>
<span class="line"><span>			&quot;username&quot;: &quot;s01&quot;,</span></span>
<span class="line"><span>			&quot;name&quot;: &quot;vps-1&quot;,</span></span>
<span class="line"><span>			&quot;type&quot;: &quot;kvm&quot;,</span></span>
<span class="line"><span>			&quot;host&quot;: &quot;chengdu&quot;,</span></span>
<span class="line"><span>			&quot;location&quot;: &quot;ğŸ‡¨ğŸ‡³&quot;,</span></span>
<span class="line"><span>			&quot;password&quot;: &quot;USER_DEFAULT_PASSWORD&quot;,</span></span>
<span class="line"><span>			&quot;monthstart&quot;: 1</span></span>
<span class="line"><span>		}</span></span>
<span class="line"><span>	],</span></span>
<span class="line"><span>	&quot;monitors&quot;: [</span></span>
<span class="line"><span>		{</span></span>
<span class="line"><span>			&quot;name&quot;: &quot;æŠ–éŸ³&quot;,</span></span>
<span class="line"><span>			&quot;host&quot;: &quot;https://www.douyin.com&quot;,</span></span>
<span class="line"><span>			&quot;interval&quot;: 600,</span></span>
<span class="line"><span>			&quot;type&quot;: &quot;https&quot;</span></span>
<span class="line"><span>		},</span></span>
<span class="line"><span>		{</span></span>
<span class="line"><span>			&quot;name&quot;: &quot;ç™¾åº¦&quot;,</span></span>
<span class="line"><span>			&quot;host&quot;: &quot;https://www.baidu.com&quot;,</span></span>
<span class="line"><span>			&quot;interval&quot;: 600,</span></span>
<span class="line"><span>			&quot;type&quot;: &quot;https&quot;</span></span>
<span class="line"><span>		}</span></span>
<span class="line"><span>	],</span></span>
<span class="line"><span>	&quot;sslcerts&quot;: [</span></span>
<span class="line"><span>		{</span></span>
<span class="line"><span>			&quot;name&quot;: &quot;demoåŸŸå&quot;,</span></span>
<span class="line"><span>			&quot;domain&quot;: &quot;https://demo.example.com&quot;,</span></span>
<span class="line"><span>			&quot;port&quot;: 443,</span></span>
<span class="line"><span>			&quot;interval&quot;: 600,</span></span>
<span class="line"><span>			&quot;callback&quot;: &quot;https://yourSMSurl&quot;</span></span>
<span class="line"><span>		}</span></span>
<span class="line"><span>	],</span></span>
<span class="line"><span>	&quot;watchdog&quot;:</span></span>
<span class="line"><span>	[</span></span>
<span class="line"><span>	    {</span></span>
<span class="line"><span>			&quot;name&quot;: &quot;æœåŠ¡å™¨è´Ÿè½½é«˜ç›‘æ§ï¼Œæ’é™¤å†…å­˜å¤§äº32Gç‰©ç†æœºï¼ŒåŒæ—¶æ’é™¤node1æœºå™¨&quot;,</span></span>
<span class="line"><span>			&quot;rule&quot;: &quot;cpu&gt;90&amp;load_1&gt;4&amp;memory_total&lt;33554432&amp;name!=&#39;node1&#39;&quot;,</span></span>
<span class="line"><span>			&quot;interval&quot;: 600,</span></span>
<span class="line"><span>			&quot;callback&quot;: &quot;https://yourSMSurl&quot;</span></span>
<span class="line"><span>		},</span></span>
<span class="line"><span>		{</span></span>
<span class="line"><span>            &quot;name&quot;: &quot;æœåŠ¡å™¨å†…å­˜ä½¿ç”¨ç‡è¿‡é«˜ç›‘æ§ï¼Œæ’é™¤å°äº1Gçš„æœºå™¨&quot;,</span></span>
<span class="line"><span>            &quot;rule&quot;: &quot;(memory_used/memory_total)*100&gt;90&amp;memory_total&gt;1048576&quot;,</span></span>
<span class="line"><span>            &quot;interval&quot;: 600,</span></span>
<span class="line"><span>            &quot;callback&quot;: &quot;https://yourSMSurl&quot;</span></span>
<span class="line"><span>        },</span></span>
<span class="line"><span>        {</span></span>
<span class="line"><span>            &quot;name&quot;: &quot;æœåŠ¡å™¨å®•æœºå‘Šè­¦&quot;,</span></span>
<span class="line"><span>            &quot;rule&quot;: &quot;online4=0&amp;online6=0&quot;,</span></span>
<span class="line"><span>            &quot;interval&quot;: 600,</span></span>
<span class="line"><span>            &quot;callback&quot;: &quot;https://yourSMSurl&quot;</span></span>
<span class="line"><span>        },</span></span>
<span class="line"><span>		{</span></span>
<span class="line"><span>            &quot;name&quot;: &quot;DDOSå’ŒCCæ”»å‡»ç›‘æ§ï¼Œé™åˆ¶ç”²éª¨æ–‡æœºå™¨&quot;,</span></span>
<span class="line"><span>            &quot;rule&quot;: &quot;tcp_count&gt;600&amp;type=&#39;Oracle&#39;&quot;,</span></span>
<span class="line"><span>            &quot;interval&quot;: 300,</span></span>
<span class="line"><span>            &quot;callback&quot;: &quot;https://yourSMSurl&quot;</span></span>
<span class="line"><span>        },</span></span>
<span class="line"><span>		{</span></span>
<span class="line"><span>			&quot;name&quot;: &quot;æœåŠ¡å™¨æœˆå‡ºå£æµé‡999GBå‘Šè­¦&quot;,</span></span>
<span class="line"><span>			&quot;rule&quot;: &quot;(network_out-last_network_out)/1024/1024/1024&gt;999&quot;,</span></span>
<span class="line"><span>			&quot;interval&quot;: 3600,</span></span>
<span class="line"><span>			&quot;callback&quot;: &quot;https://yourSMSurl&quot;</span></span>
<span class="line"><span>		},</span></span>
<span class="line"><span>		{</span></span>
<span class="line"><span>			&quot;name&quot;: &quot;é˜¿é‡Œäº‘æœåŠ¡å™¨æµé‡18GBå‘Šè­¦,é™åˆ¶usernameä¸ºä¹Œå…°å¯Ÿå¸ƒ&quot;,</span></span>
<span class="line"><span>			&quot;rule&quot;: &quot;(network_out-last_network_out)/1024/1024/1024&gt;18&amp;(username=&#39;wlcb1&#39;|username=&#39;wlcb2&#39;|username=&#39;wlcb3&#39;|username=&#39;wlcb4&#39;)&quot;,</span></span>
<span class="line"><span>			&quot;interval&quot;: 3600,</span></span>
<span class="line"><span>			&quot;callback&quot;: &quot;https://yourSMSurl&quot;</span></span>
<span class="line"><span>		},</span></span>
<span class="line"><span>		{</span></span>
<span class="line"><span>			&quot;name&quot;: &quot;é‡è¦çº¿è·¯ä¸¢åŒ…ç‡è¿‡é«˜æ£€æŸ¥&quot;,</span></span>
<span class="line"><span>			&quot;rule&quot;: &quot;(ping_10010&gt;10|ping_189&gt;10|ping_10086&gt;10)&amp;(host=&#39;sgp&#39;|host=&#39;qqhk&#39;|host=&#39;hk-21-x&#39;|host=&#39;hk-31-x&#39;)&quot;,</span></span>
<span class="line"><span>			&quot;interval&quot;: 600,</span></span>
<span class="line"><span>			&quot;callback&quot;: &quot;https://yourSMSurl&quot;</span></span>
<span class="line"><span>		},</span></span>
<span class="line"><span>		{</span></span>
<span class="line"><span>			&quot;name&quot;: &quot;ä½ å¯ä»¥ç»„åˆä»»ä½•å·²çŸ¥å­—æ®µçš„è¡¨è¾¾å¼&quot;,</span></span>
<span class="line"><span>			&quot;rule&quot;: &quot;(hdd_used/hdd_total)*100&gt;95&quot;,</span></span>
<span class="line"><span>			&quot;interval&quot;: 1800,</span></span>
<span class="line"><span>			&quot;callback&quot;: &quot;https://yourSMSurl&quot;</span></span>
<span class="line"><span>		}</span></span>
<span class="line"><span>	]</span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br></div></div><h4 id="ä¸‰ã€æ‹·è´serverstatus-statusåˆ°ä½ çš„ç½‘ç«™ç›®å½•" tabindex="-1">ä¸‰ã€æ‹·è´ServerStatus/statusåˆ°ä½ çš„ç½‘ç«™ç›®å½• <a class="header-anchor" href="#ä¸‰ã€æ‹·è´serverstatus-statusåˆ°ä½ çš„ç½‘ç«™ç›®å½•" aria-label="Permalink to &quot;ä¸‰ã€æ‹·è´ServerStatus/statusåˆ°ä½ çš„ç½‘ç«™ç›®å½•&quot;">â€‹</a></h4><p>ä¾‹å¦‚ï¼š</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" tabindex="0"><code><span class="line"><span>sudo cp -r ServerStatus/web/* /home/wwwroot/default</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="å››ã€è¿è¡ŒæœåŠ¡ç«¯" tabindex="-1">å››ã€è¿è¡ŒæœåŠ¡ç«¯ï¼š <a class="header-anchor" href="#å››ã€è¿è¡ŒæœåŠ¡ç«¯" aria-label="Permalink to &quot;å››ã€è¿è¡ŒæœåŠ¡ç«¯ï¼š&quot;">â€‹</a></h4><p>web-dirå‚æ•°ä¸ºä¸Šä¸€æ­¥è®¾ç½®çš„ç½‘ç«™æ ¹ç›®å½•ï¼ŒåŠ¡å¿…ä¿®æ”¹æˆè‡ªå·±ç½‘ç«™çš„è·¯å¾„</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" tabindex="0"><code><span class="line"><span>./sergate --config=config.json --web-dir=/home/wwwroot/default</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>ã€å®¢æˆ·ç«¯é…ç½®ã€‘</strong></p><h4 id="client-linux-py-linuxç‰ˆ" tabindex="-1">client-linux.py Linuxç‰ˆ <a class="header-anchor" href="#client-linux-py-linuxç‰ˆ" aria-label="Permalink to &quot;client-linux.py Linuxç‰ˆ&quot;">â€‹</a></h4><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 1ã€ä¿®æ”¹ client-linux.py ä¸­çš„ SERVERã€usernameã€password</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">python3</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> client-linux.py</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 2ã€ä»¥ä¼ å‚çš„æ–¹å¼å¯åŠ¨</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">python3</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> client-linux.py</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> SERVER=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">127.0.0.1</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> USER=s01</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="client-psutil-py-è·¨å¹³å°ç‰ˆ" tabindex="-1">client-psutil.py è·¨å¹³å°ç‰ˆ <a class="header-anchor" href="#client-psutil-py-è·¨å¹³å°ç‰ˆ" aria-label="Permalink to &quot;client-psutil.py è·¨å¹³å°ç‰ˆ&quot;">â€‹</a></h4><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># å®‰è£…ä¾èµ–</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># Debian/Ubuntu</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">apt</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -y</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> python3-psutil</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># Centos/Redhat</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">yum</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -y</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> python3-pip</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> gcc</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> python3-devel</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> &amp;&amp;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> pip3</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> psutil</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># Windows: ä» https://pypi.org/project/psutil/ å®‰è£…</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="åå°è¿è¡Œä¸å¼€æœºå¯åŠ¨" tabindex="-1">åå°è¿è¡Œä¸å¼€æœºå¯åŠ¨ <a class="header-anchor" href="#åå°è¿è¡Œä¸å¼€æœºå¯åŠ¨" aria-label="Permalink to &quot;åå°è¿è¡Œä¸å¼€æœºå¯åŠ¨&quot;">â€‹</a></h4><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># åå°è¿è¡Œ</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">nohup</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> python3</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> client-linux.py</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> &amp;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># å¼€æœºå¯åŠ¨ (crontab -e)</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">@reboot</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /usr/bin/python3</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /path/to/client-linux.py</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h1 id="make-better" tabindex="-1">Make Better <a class="header-anchor" href="#make-better" aria-label="Permalink to &quot;Make Better&quot;">â€‹</a></h1><ul><li>BotoXï¼š<a href="https://github.com/BotoX/ServerStatus" target="_blank" rel="noreferrer">https://github.com/BotoX/ServerStatus</a></li><li>mojeda: <a href="https://github.com/mojeda" target="_blank" rel="noreferrer">https://github.com/mojeda</a></li><li>mojeda&#39;s ServerStatus: <a href="https://github.com/mojeda/ServerStatus" target="_blank" rel="noreferrer">https://github.com/mojeda/ServerStatus</a></li><li>BlueVM&#39;s project: <a href="http://www.lowendtalk.com/discussion/comment/169690#Comment_169690" target="_blank" rel="noreferrer">http://www.lowendtalk.com/discussion/comment/169690#Comment_169690</a></li></ul>`,33)])])}const m=a(e,[["render",t]]);export{d as __pageData,m as default};
