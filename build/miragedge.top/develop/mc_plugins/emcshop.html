<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    
    <title>EMCShop（等价交换商店） | MiragEdge 文档中心</title>
    <meta name="description" content="锐界幻境 全方位的指南">
    <meta name="generator" content="VitePress v1.6.4">
    <link rel="preload stylesheet" href="/assets/style.Ddfa5d-N.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.BAqqr1Gj.js"></script>
    <link rel="modulepreload" href="/assets/chunks/vendor.8Zb1yHKv.js">
    <link rel="modulepreload" href="/assets/chunks/vendor-mermaid.6OwiGrWq.js">
    <link rel="modulepreload" href="/assets/app.BAqqr1Gj.js">
    <link rel="modulepreload" href="/assets/chunks/@localSearchIndexroot.B09-79CY.js">
    <link rel="modulepreload" href="/assets/develop_mc_plugins_emcshop.md.B8kotZFl.lean.js">
    <link rel="icon" href="/title_img/dis.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/title_img/LOGO-32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/title_img/LOGO-16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/title_img/apple-touch-icon.png">
    <link rel="manifest" href="/title_img/site.webmanifest">
    <meta name="theme-color" content="#3c8772">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="keywords" content="MiragEdge, 锐界幻境, Minecraft, 我的世界, 服务器, 文档, 玩家手册, 狐风轩汐, FwindEmi, F.windEmiko">
    <meta name="author" content="F.windEmiko">
    <meta property="og:title" content="MiragEdge 文档中心">
    <meta property="og:description" content="锐界幻境 全方位的指南">
    <meta property="og:type" content="website">
    <meta property="og:image" content="/title_img/og-image.png">
    <meta property="og:url" content="https://docs.miraged.ge">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:creator" content="@test_tool">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="router-wrapper"><div><div class="Layout" data-v-d8b57b2d><!--[--><!--]--><!--[--><span tabindex="-1" data-v-fcbfc0e0></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-fcbfc0e0>Skip to content</a><!--]--><!----><header class="VPNav" data-v-d8b57b2d data-v-7ad780c2><div class="VPNavBar" data-v-7ad780c2 data-v-9fd4d1dd><div class="wrapper" data-v-9fd4d1dd><div class="container" data-v-9fd4d1dd><div class="title" data-v-9fd4d1dd><div class="VPNavBarTitle has-sidebar" data-v-9fd4d1dd data-v-9f43907a><a class="title" href="/" data-v-9f43907a><!--[--><!--]--><!----><span data-v-9f43907a>MiragEdge 文档中心</span><!--[--><!--]--></a></div></div><div class="content" data-v-9fd4d1dd><div class="content-body" data-v-9fd4d1dd><!--[--><!--]--><div class="VPNavBarSearch search" data-v-9fd4d1dd><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索文档"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">搜索文档</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-9fd4d1dd data-v-afb2845e><span id="main-nav-aria-label" class="visually-hidden" data-v-afb2845e> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>🏠 首页</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/features/index.html" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>🎮 玩法介绍</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/manual/review.html" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>📚 玩家手册</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink active" href="/develop/" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>💻 开发文档</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/manual/qq_group.html" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>👥 官方Q群</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-afb2845e data-v-bfe7971f><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-bfe7971f><span class="text" data-v-bfe7971f><!----><span data-v-bfe7971f>🔗 相关链接</span><span class="vpi-chevron-down text-icon" data-v-bfe7971f></span></span></button><div class="menu" data-v-bfe7971f><div class="VPMenu" data-v-bfe7971f data-v-20ed86d6><div class="items" data-v-20ed86d6><!--[--><!--[--><div class="VPMenuLink" data-v-20ed86d6 data-v-7eeeb2dc><a class="VPLink link vp-external-link-icon" href="https://f.windemiko.top" target="_blank" rel="noopener noreferrer" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>🦊 狐风轩汐の小窝-Blog</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-20ed86d6 data-v-7eeeb2dc><a class="VPLink link vp-external-link-icon" href="https://cloud.miragedge.top" target="_blank" rel="noopener noreferrer" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>☁️ 锐界幻境下载站</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-20ed86d6 data-v-7eeeb2dc><a class="VPLink link vp-external-link-icon" href="https://space.bilibili.com/359174372" target="_blank" rel="noopener noreferrer" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>📺 哔哩哔哩 - 狐风轩汐</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-20ed86d6 data-v-7eeeb2dc><a class="VPLink link vp-external-link-icon" href="https://github.com/FwindEmi86/MiragEdge-DocWeb" target="_blank" rel="noopener noreferrer" data-v-7eeeb2dc><!--[--><span data-v-7eeeb2dc>📦 GitHub - 锐界幻境文档</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-9fd4d1dd data-v-3f90c1a5><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-3f90c1a5 data-v-be9742d9 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-be9742d9></span><span class="vpi-moon moon" data-v-be9742d9></span><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-9fd4d1dd data-v-f953d92f data-v-bfe7971f><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-bfe7971f><span class="vpi-more-horizontal icon" data-v-bfe7971f></span></button><div class="menu" data-v-bfe7971f><div class="VPMenu" data-v-bfe7971f data-v-20ed86d6><!----><!--[--><!--[--><!----><div class="group" data-v-f953d92f><div class="item appearance" data-v-f953d92f><p class="label" data-v-f953d92f>外观</p><div class="appearance-action" data-v-f953d92f><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-f953d92f data-v-be9742d9 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-be9742d9></span><span class="vpi-moon moon" data-v-be9742d9></span><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-9fd4d1dd data-v-6bee1efd><span class="container" data-v-6bee1efd><span class="top" data-v-6bee1efd></span><span class="middle" data-v-6bee1efd></span><span class="bottom" data-v-6bee1efd></span></span></button></div></div></div></div><div class="divider" data-v-9fd4d1dd><div class="divider-line" data-v-9fd4d1dd></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-d8b57b2d data-v-2488c25a><div class="container" data-v-2488c25a><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-2488c25a><span class="vpi-align-left menu-icon" data-v-2488c25a></span><span class="menu-text" data-v-2488c25a>菜单</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-2488c25a data-v-6b867909><button data-v-6b867909>返回顶部</button><!----></div></div></div><aside class="VPSidebar" data-v-d8b57b2d data-v-42c4c606><div class="curtain" data-v-42c4c606></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-42c4c606><span class="visually-hidden" id="sidebar-aria-label" data-v-42c4c606> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>📖 开发文档</h2><!----></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/develop/" data-v-0009425e><!--[--><p class="text" data-v-0009425e>👥 开发团队与介绍</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/develop/develop_standard.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>📝 代码规范</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0 collapsible has-active" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>🔌 原创插件开发</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/develop/mc_plugins/" data-v-0009425e><!--[--><p class="text" data-v-0009425e>📋 项目开发说明</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-1 collapsible collapsed has-active" data-v-0009425e data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h3 class="text" data-v-0009425e>📊 独家插件列表</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/develop/mc_plugins/allin.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>👾 各种原创小插件</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/develop/mc_plugins/emcshop.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>💰 等价交换商店</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/develop/mc_plugins/fe_fly.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>✈ 限时飞行</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/develop/mc_plugins/SkyElytra.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>🛩️ 幻空翼飞行</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/develop/mc_plugins/fe_itemscore.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>🗞️ 物品功能核心</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/develop/mc_plugins/fe_quests.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>📜 冒险等级任务</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0 collapsible" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>🎨 服务器插件配置编写</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/develop/server_configs/customcrops.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>自定义作物</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/develop/server_configs/enchanting.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>更多附魔</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0 collapsible" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>😸 服务器功能玩法设计</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/develop/gameplay/liveops_260107.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>赛季玩法设计方案</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0 collapsible" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>📕 网站开发编辑</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/develop/webdev/autoimage.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>🎇 自动图像组件</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0" data-v-51288d80 data-v-0009425e><!----><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/develop/sticker.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>✨ 贴图字符码</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/develop/logs.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>📅 更新日志</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0 collapsible collapsed" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>🔗 关于</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/develop/serverstatus.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>节点状态</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-d8b57b2d data-v-9a6c75ad><div class="VPDoc has-sidebar has-aside" data-v-9a6c75ad data-v-e6f2a212><!--[--><!--]--><div class="container" data-v-e6f2a212><div class="aside" data-v-e6f2a212><div class="aside-curtain" data-v-e6f2a212></div><div class="aside-container" data-v-e6f2a212><div class="aside-content" data-v-e6f2a212><div class="VPDocAside" data-v-e6f2a212 data-v-cb998dce><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-cb998dce data-v-f610f197><div class="content" data-v-f610f197><div class="outline-marker" data-v-f610f197></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-f610f197>本页目录</div><ul class="VPDocOutlineItem root" data-v-f610f197 data-v-53c99d69><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-cb998dce></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-e6f2a212><div class="content-container" data-v-e6f2a212><!--[--><!--]--><main class="main" data-v-e6f2a212><div style="position:relative;" class="vp-doc _develop_mc_plugins_emcshop external-link-icon-enabled" data-v-e6f2a212><div><h1 id="emcshop-等价交换商店" tabindex="-1">EMCShop（等价交换商店） <a class="header-anchor" href="#emcshop-等价交换商店" aria-label="Permalink to &quot;EMCShop（等价交换商店）&quot;">​</a></h1><h2 id="项目概述" tabindex="-1">项目概述 <a class="header-anchor" href="#项目概述" aria-label="Permalink to &quot;项目概述&quot;">​</a></h2><p>EMCShop 是一个为 Minecraft Paper 服务器设计的经济插件，提供物品转换、购买和预览功能。该插件允许玩家将基础物品转换为更有价值的物品，或直接购买解锁的物品。</p><ul><li>作者：狐风轩汐 &amp; F.windEmiko</li><li>项目地址：<a href="https://github.com/FwindEmi86/EMCShop" target="_blank" rel="noreferrer">https://github.com/FwindEmi86/EMCShop</a></li></ul><h2 id="技术栈" tabindex="-1">技术栈 <a class="header-anchor" href="#技术栈" aria-label="Permalink to &quot;技术栈&quot;">​</a></h2><ul><li><strong>Java</strong>: 21</li><li><strong>Minecraft API</strong>: Paper 1.21.4</li><li><strong>数据库</strong>: MySQL / SQLite (可选)</li><li><strong>连接池</strong>: HikariCP</li><li><strong>经济系统</strong>: Vault API / 独立 EMC 系统</li><li><strong>构建工具</strong>: Maven</li></ul><h2 id="项目结构" tabindex="-1">项目结构 <a class="header-anchor" href="#项目结构" aria-label="Permalink to &quot;项目结构&quot;">​</a></h2><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" tabindex="0"><code><span class="line"><span>EMCShop/</span></span>
<span class="line"><span>├── src/main/java/top/MiragEdge/emc/</span></span>
<span class="line"><span>│   ├── EMCShop.java              # 主插件类</span></span>
<span class="line"><span>│   ├── Commands/                 # 命令处理</span></span>
<span class="line"><span>│   │   ├── MainCommand.java      # 主命令</span></span>
<span class="line"><span>│   │   ├── PurchaseCommand.java  # 购买命令</span></span>
<span class="line"><span>│   │   ├── ViewCommand.java      # 查看命令</span></span>
<span class="line"><span>│   │   ├── ConvertCommand.java   # 转换命令</span></span>
<span class="line"><span>│   │   ├── ItemCommand.java      # 物品命令</span></span>
<span class="line"><span>│   │   └── ReloadCommand.java    # 重载命令</span></span>
<span class="line"><span>│   ├── Data/                     # 数据模型</span></span>
<span class="line"><span>│   │   └── PlayerData.java       # 玩家数据</span></span>
<span class="line"><span>│   ├── Database/                 # 数据库层</span></span>
<span class="line"><span>│   │   ├── DatabaseConnector.java # 数据库连接器</span></span>
<span class="line"><span>│   │   └── DatabaseManager.java  # 数据库管理器</span></span>
<span class="line"><span>│   ├── Gui/                      # GUI 菜单</span></span>
<span class="line"><span>│   │   ├── ConvertMenu.java      # 转换菜单</span></span>
<span class="line"><span>│   │   ├── PreviewMenu.java      # 预览菜单</span></span>
<span class="line"><span>│   │   └── PurchaseMenu.java     # 购买菜单</span></span>
<span class="line"><span>│   ├── Manager/                  # 业务逻辑管理</span></span>
<span class="line"><span>│   │   └── EMCManager.java       # EMC 管理器</span></span>
<span class="line"><span>│   └── Utils/                    # 工具类</span></span>
<span class="line"><span>│       ├── LocalizationUtil.java # 本地化工具</span></span>
<span class="line"><span>│       └── MessageUtil.java      # 消息工具</span></span>
<span class="line"><span>└── src/main/resources/</span></span>
<span class="line"><span>    ├── plugin.yml                # 插件配置</span></span>
<span class="line"><span>    ├── config.yml                # 主配置文件</span></span>
<span class="line"><span>    ├── message.yml               # 消息配置</span></span>
<span class="line"><span>    └── items.yml                 # 物品配置</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h2 id="核心功能" tabindex="-1">核心功能 <a class="header-anchor" href="#核心功能" aria-label="Permalink to &quot;核心功能&quot;">​</a></h2><h3 id="_1-数据库管理" tabindex="-1">1. 数据库管理 <a class="header-anchor" href="#_1-数据库管理" aria-label="Permalink to &quot;1. 数据库管理&quot;">​</a></h3><h4 id="databasemanager-databasemanager-java-1" tabindex="-1">DatabaseManager (DatabaseManager.java:1) <a class="header-anchor" href="#databasemanager-databasemanager-java-1" aria-label="Permalink to &quot;DatabaseManager (DatabaseManager.java:1)&quot;">​</a></h4><p>负责管理数据库操作，包括：</p><ul><li>异步数据保存和加载</li><li>动态批处理优化</li><li>死锁重试机制</li><li>定期清理过期数据</li><li>内存泄漏防护</li></ul><p>关键特性：</p><ul><li>使用 TransferQueue 实现高效的任务队列</li><li>支持 MySQL 和 SQLite 两种数据库</li><li>动态调整批处理大小以优化性能</li><li>弱引用缓存防止内存泄漏</li></ul><h3 id="_2-emc-管理" tabindex="-1">2. EMC 管理 <a class="header-anchor" href="#_2-emc-管理" aria-label="Permalink to &quot;2. EMC 管理&quot;">​</a></h3><h4 id="emcmanager-emcmanager-java-1" tabindex="-1">EMCManager (EMCManager.java:1) <a class="header-anchor" href="#emcmanager-emcmanager-java-1" aria-label="Permalink to &quot;EMCManager (EMCManager.java:1)&quot;">​</a></h4><p>管理 EMC 经济系统和玩家数据：</p><ul><li>支持 Vault 和独立 EMC 两种经济模式</li><li>玩家解锁物品管理</li><li>经济交易操作（存取款）</li><li>玩家数据缓存和持久化</li></ul><h3 id="_3-gui-菜单系统" tabindex="-1">3. GUI 菜单系统 <a class="header-anchor" href="#_3-gui-菜单系统" aria-label="Permalink to &quot;3. GUI 菜单系统&quot;">​</a></h3><h4 id="convertmenu-convertmenu-java-1" tabindex="-1">ConvertMenu (ConvertMenu.java:1) <a class="header-anchor" href="#convertmenu-convertmenu-java-1" aria-label="Permalink to &quot;ConvertMenu (ConvertMenu.java:1)&quot;">​</a></h4><p>物品转换界面，提供：</p><ul><li>批量转换功能</li><li>实时价值计算</li><li>转换进度显示</li><li>异常恢复机制</li></ul><h3 id="_4-命令系统" tabindex="-1">4. 命令系统 <a class="header-anchor" href="#_4-命令系统" aria-label="Permalink to &quot;4. 命令系统&quot;">​</a></h3><h4 id="maincommand-maincommand-java-1" tabindex="-1">MainCommand (MainCommand.java:1) <a class="header-anchor" href="#maincommand-maincommand-java-1" aria-label="Permalink to &quot;MainCommand (MainCommand.java:1)&quot;">​</a></h4><p>主命令入口，支持以下子命令：</p><ul><li><code>/emcshop purchase</code> - 打开购买菜单</li><li><code>/emcshop view</code> - 打开预览菜单</li><li><code>/emcshop convert</code> - 打开转换菜单</li><li><code>/emcshop item</code> - 查看手持物品价值</li><li><code>/emcshop reload</code> - 重载配置</li></ul><h2 id="配置文件" tabindex="-1">配置文件 <a class="header-anchor" href="#配置文件" aria-label="Permalink to &quot;配置文件&quot;">​</a></h2><h3 id="config-yml" tabindex="-1">config.yml <a class="header-anchor" href="#config-yml" aria-label="Permalink to &quot;config.yml&quot;">​</a></h3><p>主配置文件，包含：</p><ul><li>经济系统设置</li><li>数据库配置（MySQL/SQLite）</li><li>重构损耗率</li><li>数据库连接池参数</li></ul><h3 id="items-yml" tabindex="-1">items.yml <a class="header-anchor" href="#items-yml" aria-label="Permalink to &quot;items.yml&quot;">​</a></h3><p>物品价值配置，定义每个物品的基础 EMC 价值：</p><div class="language-yaml vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">EMC_VALUES</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  BASE</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    GRASS_BLOCK</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 2</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    STONE</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    # ... 更多物品</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="message-yml" tabindex="-1">message.yml <a class="header-anchor" href="#message-yml" aria-label="Permalink to &quot;message.yml&quot;">​</a></h3><p>消息配置，支持 MiniMessage 格式：</p><ul><li>转换菜单消息</li><li>预览菜单消息</li><li>购买菜单消息</li><li>通用系统消息</li></ul><h2 id="数据库设计" tabindex="-1">数据库设计 <a class="header-anchor" href="#数据库设计" aria-label="Permalink to &quot;数据库设计&quot;">​</a></h2><h3 id="mysql-表结构" tabindex="-1">MySQL 表结构 <a class="header-anchor" href="#mysql-表结构" aria-label="Permalink to &quot;MySQL 表结构&quot;">​</a></h3><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">-- 玩家解锁物品表</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">CREATE</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> TABLE</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> player_unlocks</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">  player_uuid </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">VARCHAR</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">36</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">) </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">NOT NULL</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">,</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">  item_id </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">VARCHAR</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">64</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">) </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">NOT NULL</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">,</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">  unlocked_at </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">TIMESTAMP</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> DEFAULT</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> CURRENT_TIMESTAMP,</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">  PRIMARY KEY</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (player_uuid, item_id)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">-- 玩家 EMC 余额表</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">CREATE</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> TABLE</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> player_emc_balance</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">  player_uuid </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">VARCHAR</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">36</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">) </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">NOT NULL</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">,</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">  balance </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">DECIMAL</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">15</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">,</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">2</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">) </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">DEFAULT</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">00</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">,</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">  updated_at </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">TIMESTAMP</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> DEFAULT</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> CURRENT_TIMESTAMP,</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">  PRIMARY KEY</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (player_uuid)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="sqlite-表结构" tabindex="-1">SQLite 表结构 <a class="header-anchor" href="#sqlite-表结构" aria-label="Permalink to &quot;SQLite 表结构&quot;">​</a></h3><div class="language-sql vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">-- 玩家解锁物品表</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">CREATE</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> TABLE</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> player_unlocks</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">  player_uuid </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">TEXT</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> NOT NULL</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">,</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">  item_id </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">TEXT</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> NOT NULL</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">,</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">  unlocked_at </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">DATETIME</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> DEFAULT</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> CURRENT_TIMESTAMP,</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">  PRIMARY KEY</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (player_uuid, item_id)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">-- 玩家 EMC 余额表</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">CREATE</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> TABLE</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> player_emc_balance</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">  player_uuid </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">TEXT</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> NOT NULL</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">,</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">  balance </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">REAL</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> DEFAULT</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">0</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">,</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">  updated_at </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">DATETIME</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> DEFAULT</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> CURRENT_TIMESTAMP,</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">  PRIMARY KEY</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (player_uuid)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="开发指南" tabindex="-1">开发指南 <a class="header-anchor" href="#开发指南" aria-label="Permalink to &quot;开发指南&quot;">​</a></h2><h3 id="_1-添加新物品价值" tabindex="-1">1. 添加新物品价值 <a class="header-anchor" href="#_1-添加新物品价值" aria-label="Permalink to &quot;1. 添加新物品价值&quot;">​</a></h3><ol><li>编辑 <code>src/main/resources/items.yml</code></li><li>在 <code>EMC_VALUES.BASE</code> 部分添加新物品：<div class="language-yaml vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">NEW_ITEM</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 10</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  # 物品ID: 价值</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li>重启服务器使配置生效</li></ol><h3 id="_2-添加新命令" tabindex="-1">2. 添加新命令 <a class="header-anchor" href="#_2-添加新命令" aria-label="Permalink to &quot;2. 添加新命令&quot;">​</a></h3><ol><li>在 <code>Commands/</code> 目录创建新的命令类</li><li>实现 <code>CommandExecutor</code> 或 <code>TabExecutor</code> 接口</li><li>在 <code>MainCommand.java</code> 中注册新命令</li></ol><h3 id="_3-添加新菜单" tabindex="-1">3. 添加新菜单 <a class="header-anchor" href="#_3-添加新菜单" aria-label="Permalink to &quot;3. 添加新菜单&quot;">​</a></h3><ol><li>在 <code>Gui/</code> 目录创建菜单类</li><li>继承或实现相应的菜单接口</li><li>在 <code>EMCShop.java</code> 中初始化</li></ol><h3 id="_4-修改消息" tabindex="-1">4. 修改消息 <a class="header-anchor" href="#_4-修改消息" aria-label="Permalink to &quot;4. 修改消息&quot;">​</a></h3><ol><li>编辑 <code>src/main/resources/message.yml</code></li><li>添加或修改消息键值对</li><li>重启服务器或使用 <code>/emcshop reload</code> 命令重载</li></ol><h2 id="性能优化" tabindex="-1">性能优化 <a class="header-anchor" href="#性能优化" aria-label="Permalink to &quot;性能优化&quot;">​</a></h2><h3 id="数据库优化" tabindex="-1">数据库优化 <a class="header-anchor" href="#数据库优化" aria-label="Permalink to &quot;数据库优化&quot;">​</a></h3><ul><li>使用批量操作减少数据库连接</li><li>动态调整批处理大小</li><li>死锁重试机制</li><li>定期清理过期数据</li></ul><h3 id="内存管理" tabindex="-1">内存管理 <a class="header-anchor" href="#内存管理" aria-label="Permalink to &quot;内存管理&quot;">​</a></h3><ul><li>使用 WeakReference 防止内存泄漏</li><li>异步数据处理</li><li>玩家数据缓存机制</li></ul><h3 id="线程安全" tabindex="-1">线程安全 <a class="header-anchor" href="#线程安全" aria-label="Permalink to &quot;线程安全&quot;">​</a></h3><ul><li>使用 ConcurrentHashMap 保护共享数据</li><li>异步数据库操作</li><li>玩家数据锁机制</li></ul><h2 id="部署指南" tabindex="-1">部署指南 <a class="header-anchor" href="#部署指南" aria-label="Permalink to &quot;部署指南&quot;">​</a></h2><h3 id="_1-构建插件" tabindex="-1">1. 构建插件 <a class="header-anchor" href="#_1-构建插件" aria-label="Permalink to &quot;1. 构建插件&quot;">​</a></h3><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">mvn</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> clean</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> package</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_2-部署插件" tabindex="-1">2. 部署插件 <a class="header-anchor" href="#_2-部署插件" aria-label="Permalink to &quot;2. 部署插件&quot;">​</a></h3><ol><li>将生成的 JAR 文件复制到 Paper 服务器的 plugins 目录</li><li>配置 <code>config.yml</code> 中的数据库设置</li><li>重启服务器</li></ol><h3 id="_3-配置数据库" tabindex="-1">3. 配置数据库 <a class="header-anchor" href="#_3-配置数据库" aria-label="Permalink to &quot;3. 配置数据库&quot;">​</a></h3><p>根据需要配置 MySQL 或 SQLite：</p><div class="language-yaml vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">database</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  type</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">mysql</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  # 或 &quot;sqlite&quot;</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  # MySQL 配置...</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  # SQLite 配置...</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="故障排除" tabindex="-1">故障排除 <a class="header-anchor" href="#故障排除" aria-label="Permalink to &quot;故障排除&quot;">​</a></h2><h3 id="常见问题" tabindex="-1">常见问题 <a class="header-anchor" href="#常见问题" aria-label="Permalink to &quot;常见问题&quot;">​</a></h3><ol><li><p><strong>数据库连接失败</strong></p><ul><li>检查 MySQL 连接配置</li><li>确认数据库服务正在运行</li><li>验证用户名和密码</li></ul></li><li><p><strong>性能问题</strong></p><ul><li>检查数据库连接池配置</li><li>监控 CPU 和内存使用</li><li>调整批处理大小</li></ul></li><li><p><strong>数据丢失</strong></p><ul><li>确保正确保存数据</li><li>检查磁盘空间</li><li>验证数据库备份</li></ul></li></ol><h3 id="日志分析" tabindex="-1">日志分析 <a class="header-anchor" href="#日志分析" aria-label="Permalink to &quot;日志分析&quot;">​</a></h3><p>插件日志包含详细的调试信息，可以帮助诊断问题：</p><ul><li>数据库操作日志</li><li>玩家数据加载/保存日志</li><li>经济交易日志</li><li>错误和警告信息</li></ul><h2 id="版本历史" tabindex="-1">版本历史 <a class="header-anchor" href="#版本历史" aria-label="Permalink to &quot;版本历史&quot;">​</a></h2><ul><li><strong>v3.14</strong> - 修复性能问题，优化数据库连接</li><li><strong>v3.0</strong> - 重大重构，支持多种数据库</li><li><strong>v2.0</strong> - 添加独立 EMC 经济系统</li><li><strong>v1.0</strong> - 初始版本，基础功能</li></ul><h2 id="贡献指南" tabindex="-1">贡献指南 <a class="header-anchor" href="#贡献指南" aria-label="Permalink to &quot;贡献指南&quot;">​</a></h2><ol><li>Fork 项目仓库</li><li>创建功能分支</li><li>提交代码更改</li><li>创建 Pull Request</li></ol><h2 id="许可证" tabindex="-1">许可证 <a class="header-anchor" href="#许可证" aria-label="Permalink to &quot;许可证&quot;">​</a></h2><p>本项目采用 MIT 许可证，详见 LICENSE 文件。</p></div></div></main><footer class="VPDocFooter" data-v-e6f2a212 data-v-1bcd8184><!--[--><!--]--><div class="edit-info" data-v-1bcd8184><!----><div class="last-updated" data-v-1bcd8184><p class="VPLastUpdated" data-v-1bcd8184 data-v-1bb0c8a8>最后更新: <time datetime="2026-02-18T01:00:22.000Z" data-v-1bb0c8a8></time></p></div></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-1bcd8184><span class="visually-hidden" id="doc-footer-aria-label" data-v-1bcd8184>Pager</span><div class="pager" data-v-1bcd8184><a class="VPLink link pager-link prev" href="/develop/mc_plugins/allin.html" data-v-1bcd8184><!--[--><span class="desc" data-v-1bcd8184>上一篇</span><span class="title" data-v-1bcd8184>👾 各种原创小插件</span><!--]--></a></div><div class="pager" data-v-1bcd8184><a class="VPLink link pager-link next" href="/develop/mc_plugins/fe_fly.html" data-v-1bcd8184><!--[--><span class="desc" data-v-1bcd8184>下一篇</span><span class="title" data-v-1bcd8184>✈ 限时飞行</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div><div class="centerdss"><div class="content-wrapper"><div class="vp-doc"></div><div class="contributors-container" data-v-c36ab647><div class="contributors-section" data-v-c36ab647><h3 class="section-title" data-v-c36ab647>本页面贡献者 📝</h3><div class="contributors-grid" data-v-c36ab647><!--[--><a href="https://github.com/FwindEmi86" class="contributor-card" target="_blank" rel="noopener noreferrer" title="访问 F.windEmiko 的 GitHub 主页" data-v-c36ab647><div class="contributor-avatar" data-v-c36ab647><img src="https://avatars.githubusercontent.com/FwindEmi86?v=4&amp;size=100" alt="FwindEmi86" class="avatar-image" loading="lazy" data-v-c36ab647></div><div class="contributor-info" data-v-c36ab647><span class="contributor-name" data-v-c36ab647>F.windEmiko</span><span class="contributor-handle" data-v-c36ab647>@FwindEmi86</span></div><div class="github-badge" data-v-c36ab647><svg class="github-icon" viewBox="0 0 16 16" fill="currentColor" data-v-c36ab647><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z" data-v-c36ab647></path></svg></div></a><!--]--></div></div></div></div></div><div class="doc-footer"><div class="container"><div class="doc-footer-content"><span>MiragEdge✰锐界幻境</span><span> By </span><a href="https://space.bilibili.com/359174372" target="_blank" class="doc-footer-link">F.windEmiko</a></div><div class="doc-footer-content"><a href="https://beian.miit.gov.cn" target="_blank" rel="noopener noreferrer" style="color:var(--vp-c-text-2);text-decoration:none;"> 苏ICP备2024133820号-1 </a> | <a href="https://www.rainyun.com/FwindEmi_" target="_blank" rel="noopener noreferrer" style="color:var(--vp-c-brand);text-decoration:none;"> 雨云 </a> 提供计算服务 </div></div></div></div><!----></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"agents.md\":\"DzJB6_zR\",\"develop_develop_standard.md\":\"Xdv7Min7\",\"develop_gameplay_liveops_260107.md\":\"CVQ7WGu6\",\"develop_index.md\":\"C5Oj2zfZ\",\"develop_logs_index.md\":\"LDY-Vx8w\",\"develop_mc_plugins_allin.md\":\"DFvYq2Ew\",\"develop_mc_plugins_emcshop.md\":\"B8kotZFl\",\"develop_mc_plugins_fe_fly.md\":\"BXAT7alz\",\"develop_mc_plugins_fe_itemscore.md\":\"BtkXvN5T\",\"develop_mc_plugins_fe_quests.md\":\"DNfpimWh\",\"develop_mc_plugins_index.md\":\"CvcpKYQ6\",\"develop_mc_plugins_skyelytra.md\":\"DkXffSDr\",\"develop_server_configs_customcrops.md\":\"DvbsPeSB\",\"develop_server_configs_enchanting.md\":\"Ds6eUnkK\",\"develop_serverstatus.md\":\"B9xlfuIg\",\"develop_shell_commands.md\":\"DRRvrorm\",\"develop_sticker.md\":\"C_qZ7XHp\",\"develop_webdev_autoimage.md\":\"DD8ENZai\",\"features_base_dom.md\":\"D0UY92a1\",\"features_base_economy.md\":\"k7sgykQc\",\"features_base_playerguild.md\":\"CiXJH4Vl\",\"features_croups_info.md\":\"DuAXGVQT\",\"features_enchantments_chesed.md\":\"reusru2d\",\"features_enchantments_group.md\":\"CfXdv6Xs\",\"features_enchantments_info.md\":\"w1ZWl0Fu\",\"features_enchantments_list.md\":\"DhbcxBky\",\"features_enchantments_rarity.md\":\"BYi01pJo\",\"features_fishing_info.md\":\"waOqZYtI\",\"features_food_info.md\":\"hToeY6ZM\",\"features_index.md\":\"DvMchYLm\",\"features_mmo_info.md\":\"Cr57aQ9o\",\"features_seasons_fall.md\":\"DU7mU4RG\",\"features_seasons_info.md\":\"B_KOYhf8\",\"features_seasons_spring.md\":\"DwhSDk2h\",\"features_seasons_summer.md\":\"COJxCtgo\",\"features_seasons_temperature.md\":\"D_zadOH0\",\"features_seasons_winter.md\":\"CkGgGqCS\",\"index.md\":\"C1WlMXyj\",\"lessons_docker_docker_file.md\":\"CIuHmuJH\",\"lessons_kubernetes_kubectl.md\":\"lPKLf8g5\",\"lessons_mylove.md\":\"DfBrCNcS\",\"manual_active_20251017.md\":\"ZlMk0ntc\",\"manual_active_20251225.md\":\"CmPIyiS2\",\"manual_active_20260101.md\":\"CzAswreD\",\"manual_eula.md\":\"aE4yzXmI\",\"manual_faq.md\":\"TeUgu3fX\",\"manual_function_mod.md\":\"4jei2IkL\",\"manual_function_qqbot.md\":\"D1jSv0AO\",\"manual_other_worldview.md\":\"DsuRLGKk\",\"manual_qq_group.md\":\"JLRvK0-t\",\"manual_review.md\":\"BrszlHGF\",\"manual_tutorial_clientinstall.md\":\"Cq3CY2Ww\",\"manual_tutorial_serverjoin.md\":\"BCgbP4nD\",\"manual_tutorial_voicechannel.md\":\"DmuLNGAO\",\"manual_tutorial_whitelist.md\":\"CQxRieBP\",\"readme.md\":\"BfNKgkSk\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"MiragEdge 文档中心\",\"description\":\"锐界幻境 全方位的指南\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"search\":{\"provider\":\"local\",\"options\":{\"locales\":{\"root\":{\"translations\":{\"button\":{\"buttonText\":\"搜索文档\",\"buttonAriaLabel\":\"搜索文档\"},\"modal\":{\"noResultsText\":\"无法找到相关结果\",\"resetButtonTitle\":\"清除查询条件\",\"footer\":{\"selectText\":\"选择\",\"navigateText\":\"切换\",\"closeText\":\"关闭\"}}}}},\"detailedView\":true,\"miniSearch\":{\"searchOptions\":{\"fuzzy\":true,\"prefix\":true,\"boost\":{\"title\":2,\"content\":1}}}}},\"nav\":[{\"text\":\"🏠 首页\",\"link\":\"/\"},{\"text\":\"🎮 玩法介绍\",\"link\":\"/features/index\",\"activeMatch\":\"^/features/\"},{\"text\":\"📚 玩家手册\",\"link\":\"/manual/review\",\"activeMatch\":\"^/manual/\"},{\"text\":\"💻 开发文档\",\"link\":\"/develop/\",\"activeMatch\":\"^/develop/\"},{\"text\":\"👥 官方Q群\",\"link\":\"/manual/qq_group\"},{\"text\":\"🔗 相关链接\",\"items\":[{\"text\":\"🦊 狐风轩汐の小窝-Blog\",\"link\":\"https://f.windemiko.top\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"},{\"text\":\"☁️ 锐界幻境下载站\",\"link\":\"https://cloud.miragedge.top\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"},{\"text\":\"📺 哔哩哔哩 - 狐风轩汐\",\"link\":\"https://space.bilibili.com/359174372\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"},{\"text\":\"📦 GitHub - 锐界幻境文档\",\"link\":\"https://github.com/FwindEmi86/MiragEdge-DocWeb\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}]}],\"sidebar\":{\"/features/\":[{\"text\":\"📖 玩法总览\",\"link\":\"/features/index\"},{\"text\":\"⚒️ 基础内容\",\"collapsed\":false,\"items\":[{\"text\":\"💰 经济系统\",\"link\":\"/features/base/economy\"},{\"text\":\"🏠 玩家工会\",\"link\":\"/features/base/playerguild\"},{\"text\":\"🎡 幻域领地\",\"link\":\"/features/base/dom\"}]},{\"text\":\"🌼 真实季节\",\"collapsed\":true,\"items\":[{\"text\":\"整体介绍\",\"link\":\"/features/seasons/info\"},{\"text\":\"温度系统\",\"link\":\"/features/seasons/temperature\"},{\"text\":\"春季\",\"link\":\"/features/seasons/spring\"},{\"text\":\"夏季\",\"link\":\"/features/seasons/summer\"},{\"text\":\"秋季\",\"link\":\"/features/seasons/fall\"},{\"text\":\"冬季\",\"link\":\"/features/seasons/winter\"}]},{\"text\":\"🌱 星露谷种植\",\"collapsed\":true,\"items\":[{\"text\":\"介绍\",\"link\":\"/features/croups/info\"}]},{\"text\":\"🎣 星露谷钓鱼\",\"collapsed\":true,\"items\":[{\"text\":\"介绍\",\"link\":\"/features/fishing/info\"}]},{\"text\":\"✨ 更多附魔\",\"collapsed\":false,\"items\":[{\"text\":\"介绍\",\"link\":\"/features/enchantments/info\"},{\"text\":\"品质等级\",\"link\":\"/features/enchantments/rarity\"},{\"text\":\"功能分类\",\"link\":\"/features/enchantments/group\"},{\"text\":\"附魔列表\",\"link\":\"/features/enchantments/list\"},{\"text\":\"祛魔系统\",\"link\":\"/features/enchantments/chesed\"}]},{\"text\":\"⚔️ 装备升级\",\"collapsed\":true,\"items\":[{\"text\":\"介绍\",\"link\":\"/features/mmo/info\"}]},{\"text\":\"🍲 更多食物\",\"collapsed\":true,\"items\":[{\"text\":\"介绍\",\"link\":\"/features/food/info\"}]}],\"/manual/\":[{\"text\":\"📌 必看指南\",\"collapsed\":false,\"items\":[{\"text\":\"✅ 玩家审核\",\"link\":\"/manual/review\"},{\"text\":\"⚖️ 玩家守则\",\"link\":\"/manual/eula\"},{\"text\":\"🔗 入服方法\",\"link\":\"/manual/tutorial/serverjoin\"},{\"text\":\"💾 白名单系统\",\"link\":\"/manual/tutorial/whitelist\"},{\"text\":\"🔌 客户端安装\",\"link\":\"/manual/tutorial/clientinstall\"},{\"text\":\"🎮 官方语音频道\",\"link\":\"/manual/tutorial/voicechannel\"}]},{\"text\":\"🔧 附属功能教程\",\"collapsed\":false,\"items\":[{\"text\":\"🐧 群服互通机器人\",\"link\":\"/manual/function/qqbot\"},{\"text\":\"🐶 MOD拓展功能支持\",\"link\":\"/manual/function/mod\"}]},{\"items\":[{\"text\":\"🌏 世界观故事\",\"link\":\"/manual/other/worldview\"},{\"text\":\"❓ 常见问题\",\"link\":\"/manual/faq\"},{\"text\":\"💬 QQ 群组\",\"link\":\"/manual/qq_group\"},{\"text\":\"🚩 历史事件记录\",\"collapsed\":true,\"items\":[{\"text\":\"2026元旦合照纪念活动\",\"link\":\"/manual/active/20260101\"},{\"text\":\"新服数据丢失事件\",\"link\":\"/manual/active/20251225\"},{\"text\":\"存档数据重置\",\"link\":\"/manual/active/20251017\"}]}]}],\"/develop/\":[{\"text\":\"📖 开发文档\",\"items\":[{\"text\":\"👥 开发团队与介绍\",\"link\":\"/develop/\"},{\"text\":\"📝 代码规范\",\"link\":\"/develop/develop_standard\"}]},{\"text\":\"🔌 原创插件开发\",\"collapsed\":false,\"items\":[{\"text\":\"📋 项目开发说明\",\"link\":\"/develop/mc_plugins/\"},{\"text\":\"📊 独家插件列表\",\"collapsed\":true,\"items\":[{\"text\":\"👾 各种原创小插件\",\"link\":\"/develop/mc_plugins/allin\"},{\"text\":\"💰 等价交换商店\",\"link\":\"/develop/mc_plugins/emcshop\"},{\"text\":\"✈ 限时飞行\",\"link\":\"/develop/mc_plugins/fe_fly\"},{\"text\":\"🛩️ 幻空翼飞行\",\"link\":\"/develop/mc_plugins/SkyElytra\"},{\"text\":\"🗞️ 物品功能核心\",\"link\":\"/develop/mc_plugins/fe_itemscore\"},{\"text\":\"📜 冒险等级任务\",\"link\":\"/develop/mc_plugins/fe_quests\"}]}]},{\"text\":\"🎨 服务器插件配置编写\",\"collapsed\":false,\"items\":[{\"text\":\"自定义作物\",\"link\":\"/develop/server_configs/customcrops\"},{\"text\":\"更多附魔\",\"link\":\"/develop/server_configs/enchanting\"}]},{\"text\":\"😸 服务器功能玩法设计\",\"collapsed\":false,\"items\":[{\"text\":\"赛季玩法设计方案\",\"link\":\"/develop/gameplay/liveops_260107\"}]},{\"text\":\"📕 网站开发编辑\",\"collapsed\":false,\"items\":[{\"text\":\"🎇 自动图像组件\",\"link\":\"/develop/webdev/autoimage\"}]},{\"text\":\"✨ 贴图字符码\",\"link\":\"/develop/sticker\"},{\"text\":\"📅 更新日志\",\"link\":\"/develop/logs\"},{\"text\":\"🔗 关于\",\"collapsed\":true,\"items\":[{\"text\":\"节点状态\",\"link\":\"/develop/serverstatus\"}]}]},\"outline\":{\"level\":[1,4],\"label\":\"本页目录\"},\"returnToTopLabel\":\"返回顶部\",\"lastUpdated\":{\"text\":\"最后更新\",\"formatOptions\":{\"dateStyle\":\"short\",\"timeStyle\":\"short\"}},\"darkModeSwitchLabel\":\"外观\",\"sidebarMenuLabel\":\"菜单\",\"docFooter\":{\"prev\":\"上一篇\",\"next\":\"下一篇\"},\"externalLinkIcon\":true},\"locales\":{\"root\":{\"label\":\"中文\",\"lang\":\"zh-CN\",\"description\":\"锐界幻境 全方位的指南\"}},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>