import{_ as e,b as a,c as t,d as r}from"./app.DiX3nUp-.js";import"./chunks/vendor.8Zb1yHKv.js";import"./chunks/vendor-mermaid.jBnhHIAT.js";const _=JSON.parse('{"title":"开发者规范","description":"","frontmatter":{"contributors":"F.windEmiko,FwindEmi86"},"headers":[],"relativePath":"develop/develop_standard.md","filePath":"develop/develop_standard.md","lastUpdated":1765128995000}'),i={name:"develop/develop_standard.md"};function l(d,o,n,c,s,h){return a(),t("div",null,[...o[0]||(o[0]=[r('<h1 id="开发者规范" tabindex="-1">开发者规范 <a class="header-anchor" href="#开发者规范" aria-label="Permalink to &quot;开发者规范&quot;">​</a></h1><h2 id="代码规范" tabindex="-1">代码规范 <a class="header-anchor" href="#代码规范" aria-label="Permalink to &quot;代码规范&quot;">​</a></h2><blockquote><p>如果你的开发经验不是很多但又想避免写出屎山代码的话，建议阅读<a href="https://cactus-proj.github.io/A-Philosophy-of-Software-Design-zh/" target="_blank" rel="noreferrer">《软件设计的哲学》</a></p><p>推荐这本书是因为: 现有代码的问题有很多都是这本书里的反例，同时这本书也探讨了解决这些问题的方案</p></blockquote><h3 id="类定义和命名" tabindex="-1">类定义和命名 <a class="header-anchor" href="#类定义和命名" aria-label="Permalink to &quot;类定义和命名&quot;">​</a></h3><ol><li>所有的类名称需要使用<strong>大驼峰命名法</strong>进行命名。</li><li>所有<strong>类属性（常量、变量）<strong>均需</strong>在class层级定义</strong>。</li><li>所有类实例属性均需在<code>__init__</code>方法中声明并初始化</li><li>所有类与函数请尽量使用三引号（<code>&quot;&quot;&quot;</code>）编写文档注释。</li></ol><h3 id="变量与常量" tabindex="-1">变量与常量 <a class="header-anchor" href="#变量与常量" aria-label="Permalink to &quot;变量与常量&quot;">​</a></h3><ol><li>常量请使用<strong>全大写</strong>+<strong>下划线</strong>的方式命名，如有可能，请尽量进行类型声明。</li><li>变量请使用<strong>全小写</strong>+<strong>下划线</strong>的方式命名，必须进行<strong>类型声明</strong>。</li></ol><h3 id="异步函数和任务" tabindex="-1">异步函数和任务 <a class="header-anchor" href="#异步函数和任务" aria-label="Permalink to &quot;异步函数和任务&quot;">​</a></h3><ol><li>对于脱离类生命周期的周期性定时任务，请继承<code>AsyncTask基类</code>实现定时任务类，并使用<code>async_task_manager.add_task()</code>交由异步任务管理器统一管理；</li><li>对于类生命周期内的异步任务，请使用<code>asyncio.create_task()</code>创建协程处理，并在合适的位置处理异常，并使用<code>Task.cancel()</code>和<code>await</code>确保任务完成退出；</li><li>对于业务逻辑中串行的异步任务，请使用<code>await</code>来创建协程处理并阻塞业务逻辑直至任务结束。</li></ol><h3 id="import-规范" tabindex="-1">Import 规范 <a class="header-anchor" href="#import-规范" aria-label="Permalink to &quot;Import 规范&quot;">​</a></h3><p>首先我们定义一个“包”：认为每一个直接含有python代码文件的文件夹都是一个包。</p><ol><li>所有的<code>import</code>语句请放在文件的最上方，除非你需要动态导入某个模块或者<code>try import</code>。</li><li>对于每个包，包内的文件的互相导入请使用相对路径导入，如<code>import .config</code>或者<code>from .config import Config</code>。</li><li>对于跨包文件导入，请使用绝对路径导入，如<code>from package.module import Class</code>。</li><li>请使用Ruff检查是否有没有用到的<code>import</code>语句，如果有，请删除这条<code>import</code>语句。</li></ol><h2 id="开发者规范-1" tabindex="-1">开发者规范 <a class="header-anchor" href="#开发者规范-1" aria-label="Permalink to &quot;开发者规范&quot;">​</a></h2><h3 id="审阅pr" tabindex="-1">审阅PR <a class="header-anchor" href="#审阅pr" aria-label="Permalink to &quot;审阅PR&quot;">​</a></h3><p>建议参考<a href="https://www.cnblogs.com/daniel-hutao/p/code_review.html" target="_blank" rel="noreferrer">在 GitHub 上玩转开源项目的 Code Review</a></p><h3 id="提交代码" tabindex="-1">提交代码 <a class="header-anchor" href="#提交代码" aria-label="Permalink to &quot;提交代码&quot;">​</a></h3><p>请在本地使用<code>ruff check</code>进行检查，<strong>检查通过后</strong>再进行提交</p><p>对于一些较小修改，可以直接使用直推方式推送代码。</p><p>对于特大修改，请使用fork，在fork中修改后提交PR，待审阅后进行合并</p>',19)])])}const f=e(i,[["render",l]]);export{_ as __pageData,f as default};
